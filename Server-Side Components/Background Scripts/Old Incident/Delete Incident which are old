(function() {
    var ninetyDaysAgo = new GlideDateTime();
    ninetyDaysAgo.subtract(1000 * 60 * 60 * 24 * 90); // 90 days in milliseconds

    var gr = new GlideRecord('incident');
    gr.addQuery('opened_at', '<', ninetyDaysAgo);
    gr.query();

    var count = 0;
    while (gr.next()) {
        gs.info('Deleting Incident: ' + gr.number);
        gr.deleteRecord();
        count++;
    }

    gs.info('Total Incidents Deleted: ' + count);
})();
