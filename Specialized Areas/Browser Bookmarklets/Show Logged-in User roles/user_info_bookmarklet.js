javascript:(function(){var e=null;if("undefined"!=typeof g_user&&g_user.userName)e=g_user;else if("undefined"!=typeof gsft_main&&gsft_main.g_user&&gsft_main.g_user.userName)e=gsft_main.g_user;else if("undefined"!=typeof window.NOW&&window.NOW.user&&"undefined"!=typeof window.ux_globals&&window.ux_globals.session)try{e={fullName:window.ux_globals.session.output.user.fullName,userName:window.ux_globals.session.output.user.userName,userID:window.NOW.user.userID,allRoles:window.ux_globals.session.output.user.roles}}catch(o){e=null}if(!e)return void alert("Could not find a ServiceNow user object (g_user, gsft_main.g_user, or Workspace objects). Are you on a ServiceNow page and logged in?");var n=document.getElementById("sn-user-modal");n&&n.parentNode.removeChild(n);var o=e.allRoles.filter(function(e){return e}).sort().join("<br>"),t='<div style="font-family:sans-serif;color:#333;"><h2>User Details</h2><p><strong>Full Name:</strong> '+e.fullName+'</p><p><strong>User Name:</strong> '+e.userName+'</p><p><strong>User ID (sys_id):</strong> <span style="font-family:monospace;background:#eee;padding:2px 4px;border-radius:3px;">'+e.userID+'</span></p><h3>All Roles ('+e.allRoles.filter(function(e){return e}).length+')</h3><div style="height:250px;overflow-y:auto;border:1px solid #ccc;padding:10px;background-color:#f9f9f9;border-radius:4px;font-size:12px;">'+o+"</div></div>",l=document.createElement("div");l.id="sn-user-modal";var d="#sn-user-modal-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.6);z-index:9999;}#sn-user-modal-content{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.3);width:550px;max-width:90%;max-height:90vh;z-index:10000;box-sizing:border-box;}#sn-user-modal-body{max-height:calc(90vh - 100px);overflow-y:auto;}#sn-user-modal-close{position:absolute;top:10px;right:15px;font-size:28px;font-weight:bold;cursor:pointer;color:#888;line-height:1;}#sn-user-modal-close:hover{color:#000;}";function i(){var e=document.getElementById("sn-user-modal");e&&e.parentNode.removeChild(e)}l.innerHTML="<style>"+d+'</style><div id="sn-user-modal-backdrop"></div><div id="sn-user-modal-content"><span id="sn-user-modal-close">&times;</span><div id="sn-user-modal-body">'+t+"</div></div>",document.body.appendChild(l),document.getElementById("sn-user-modal-close").addEventListener("click",i),document.getElementById("sn-user-modal-backdrop").addEventListener("click",i)})();
